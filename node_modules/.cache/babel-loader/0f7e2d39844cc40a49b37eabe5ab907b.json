{"ast":null,"code":"var _jsxFileName = \"B:\\\\Otavio\\\\Documents\\\\IOT\\\\FrontMaisTocadasUFMG\\\\src\\\\components\\\\add-songdata.component.js\";\nimport React, { Component, useState } from \"react\";\nimport SongDDataService from \"../services/songdata.service\";\nimport SpotifyService from \"../services/spotify.service\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst onFailure = response => console.error(response);\n\nconst optionsArea = [{\n  label: \"Ciências Humanas\",\n  value: \"humanas\"\n}, {\n  label: \"Ciências Exatas da Terra\",\n  value: \"exaras\"\n}, {\n  label: \"Ciências Biológicas\",\n  value: \"biologicas\"\n}, {\n  label: \"Engenharias\",\n  value: \"eng\"\n}, {\n  label: \"Ciências da Saúde\",\n  value: \"saude\"\n}, {\n  label: \"Ciências Agrárias\",\n  value: \"agrarias\"\n}, {\n  label: \"Linguística, Letras e Artes\",\n  value: \"letras\"\n}, {\n  label: \"Ciências Sociais Aplicadas\",\n  value: \"sociais\"\n}, {\n  label: \"Outras\",\n  value: \"outras\"\n}];\nconst optionsGrau = [{\n  label: \"Graduação\",\n  value: \"graduacao\"\n}, {\n  label: \"Especialização/MBA\",\n  value: \"espec\"\n}, {\n  label: \"Mestrado\",\n  value: \"mestrado\"\n}, {\n  label: \"Doutorado\",\n  value: \"doutorado\"\n}];\nconst CLIENT_ID = \"55b9c926505a44b9b685faaec5b28633\";\nconst REDIRECT_URI = \"http://localhost:8081/callback\";\nconst AUTH_ENDPOINT = \"https://accounts.spotify.com/authorize\";\nconst RESPONSE_TYPE = \"code\";\nconst CLIENT_SECRET = '75a0d8b2918c4159a1cb68bea678d562';\nconst SCOPE = 'user-top-read';\nexport default class AddSongData extends Component {\n  constructor(props) {\n    super(props);\n    this.onChangeArea = this.onChangeArea.bind(this);\n    this.onChangeGrau = this.onChangeGrau.bind(this);\n    this.saveSongData = this.saveSongData.bind(this);\n    this.newSongData = this.newSongData.bind(this);\n    this.state = {\n      posts: \"\",\n      id: null,\n      area: \"\",\n      grau: \"\"\n    };\n  }\n\n  componentDidMount() {\n    console.log(\"montadaa \");\n    axios.get('http://localhost:5000/supplier').then(response => {\n      console.log(response);\n      this.setState({\n        suppliers: response.data.data\n      });\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  onChangeArea(e) {\n    this.setState({\n      title: e.target.value\n    });\n    console.log('onChangeArea ' + e.target.value);\n  }\n\n  onChangeGrau(e) {\n    this.setState({\n      title: e.target.value\n    });\n    console.log('onChangeGrau ' + e.target.value);\n  }\n\n  saveSongData(e) {\n    e.preventDefault();\n    fetch(`${AUTH_ENDPOINT}?client_id=${CLIENT_ID}&redirect_uri=${REDIRECT_URI}&response_type=${RESPONSE_TYPE}`).then(response => response.json()).then(posts => this.setState({\n      posts: posts\n    }));\n    console.log('this.state. ' + this.state.posts);\n    var data = {\n      area: this.state.area,\n      grau: this.state.grau\n    };\n    console.log('saveSongData ' + data);\n    SpotifyService.getAuth();\n    SongDDataService.create(data).then(response => {\n      this.setState({\n        id: response.data.id\n      });\n      console.log(response.data);\n    }).catch(e => {\n      console.log(e);\n    });\n  }\n\n  newSongData() {\n    this.setState({\n      id: null,\n      items: \"\",\n      area: \"\",\n      class: 0,\n      limit: 0,\n      offset: 0,\n      previous: \"\",\n      href: \"\",\n      next: \"\"\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"select\", {\n        id: \"spotifyCols\",\n        autoComplete: \"off\",\n        defaultValue: \"Grau\",\n        onChange: this.onChangeGrau,\n        children: optionsGrau.map(option => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: option.value,\n          children: option.label\n        }, option.value, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 25\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        id: \"spotifyPeriod\",\n        autoComplete: \"off\",\n        defaultValue: \"\\xC1rea de Estudo\",\n        onChange: this.onChangeArea,\n        children: optionsArea.map(option => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: option.value,\n          children: option.label\n        }, option.value, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 25\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: this.handleClick,\n        className: \"next action-button\",\n        children: [\"Autenticar\", /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa fa-spotify fa-right aria-hidden=true\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n        href: `${AUTH_ENDPOINT}?client_id=${CLIENT_ID}&redirect_uri=${REDIRECT_URI}&response_type=${RESPONSE_TYPE}`,\n        children: \"Login to Spotify\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"names":["React","Component","useState","SongDDataService","SpotifyService","onFailure","response","console","error","optionsArea","label","value","optionsGrau","CLIENT_ID","REDIRECT_URI","AUTH_ENDPOINT","RESPONSE_TYPE","CLIENT_SECRET","SCOPE","AddSongData","constructor","props","onChangeArea","bind","onChangeGrau","saveSongData","newSongData","state","posts","id","area","grau","componentDidMount","log","axios","get","then","setState","suppliers","data","catch","e","title","target","preventDefault","fetch","json","getAuth","create","items","class","limit","offset","previous","href","next","render","map","option","handleClick"],"sources":["B:/Otavio/Documents/IOT/FrontMaisTocadasUFMG/src/components/add-songdata.component.js"],"sourcesContent":["import React, { Component, useState } from \"react\";\r\nimport SongDDataService from \"../services/songdata.service\";\r\nimport SpotifyService from \"../services/spotify.service\";\r\n\r\n\r\nconst onFailure = response => console.error(response);\r\nconst optionsArea = [\r\n    {\r\n        label: \"Ciências Humanas\",\r\n        value: \"humanas\",\r\n    },\r\n    {\r\n        label: \"Ciências Exatas da Terra\",\r\n        value: \"exaras\",\r\n    },\r\n    {\r\n        label: \"Ciências Biológicas\",\r\n        value: \"biologicas\",\r\n    },\r\n    {\r\n        label: \"Engenharias\",\r\n        value: \"eng\",\r\n    },\r\n    {\r\n        label: \"Ciências da Saúde\",\r\n        value: \"saude\",\r\n    },\r\n    {\r\n        label: \"Ciências Agrárias\",\r\n        value: \"agrarias\",\r\n    },\r\n    {\r\n        label: \"Linguística, Letras e Artes\",\r\n        value: \"letras\",\r\n    },\r\n    {\r\n        label: \"Ciências Sociais Aplicadas\",\r\n        value: \"sociais\",\r\n    },\r\n    {\r\n        label: \"Outras\",\r\n        value: \"outras\",\r\n    }\r\n];\r\n\r\nconst optionsGrau = [\r\n    {\r\n        label: \"Graduação\",\r\n        value: \"graduacao\",\r\n    },\r\n    {\r\n        label: \"Especialização/MBA\",\r\n        value: \"espec\",\r\n    },\r\n    {\r\n        label: \"Mestrado\",\r\n        value: \"mestrado\",\r\n    },\r\n    {\r\n        label: \"Doutorado\",\r\n        value: \"doutorado\",\r\n    },\r\n];\r\nconst CLIENT_ID = \"55b9c926505a44b9b685faaec5b28633\"\r\nconst REDIRECT_URI = \"http://localhost:8081/callback\"\r\nconst AUTH_ENDPOINT = \"https://accounts.spotify.com/authorize\"\r\nconst RESPONSE_TYPE = \"code\"\r\nconst CLIENT_SECRET = '75a0d8b2918c4159a1cb68bea678d562'\r\nconst SCOPE = 'user-top-read';\r\n\r\nexport default class AddSongData extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.onChangeArea = this.onChangeArea.bind(this);\r\n        this.onChangeGrau = this.onChangeGrau.bind(this);\r\n        this.saveSongData = this.saveSongData.bind(this);\r\n        this.newSongData = this.newSongData.bind(this);\r\n        this.state = {\r\n            posts: \"\",\r\n            id: null,\r\n            area: \"\",\r\n            grau: \"\"\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        console.log(\"montadaa \")\r\n        axios.get('http://localhost:5000/supplier').then(\r\n            response => {\r\n                console.log(response)\r\n                this.setState({ suppliers: response.data.data })\r\n            }\r\n        )\r\n            .catch(error => {\r\n                console.log(error)\r\n            })\r\n    }\r\n\r\n    onChangeArea(e) {\r\n        this.setState({\r\n            title: e.target.value\r\n        });\r\n        console.log('onChangeArea ' + e.target.value)\r\n    }\r\n    onChangeGrau(e) {\r\n        this.setState({\r\n            title: e.target.value\r\n        });\r\n        console.log('onChangeGrau ' + e.target.value)\r\n    }\r\n    saveSongData(e) {\r\n        e.preventDefault()\r\n        fetch(`${AUTH_ENDPOINT}?client_id=${CLIENT_ID}&redirect_uri=${REDIRECT_URI}&response_type=${RESPONSE_TYPE}`)\r\n            .then(response => response.json())\r\n            .then(posts => this.setState({ posts: posts }));\r\n        console.log('this.state. ' + this.state.posts)\r\n        var data = {\r\n            area: this.state.area,\r\n            grau: this.state.grau,\r\n        };\r\n        console.log('saveSongData ' + data)\r\n        SpotifyService.getAuth()\r\n        SongDDataService.create(data)\r\n            .then(response => {\r\n                this.setState({\r\n                    id: response.data.id\r\n                });\r\n                console.log(response.data);\r\n            })\r\n            .catch(e => {\r\n                console.log(e);\r\n            });\r\n    }\r\n    newSongData() {\r\n        this.setState({\r\n            id: null,\r\n            items: \"\",\r\n            area: \"\",\r\n            class: 0,\r\n            limit: 0,\r\n            offset: 0,\r\n            previous: \"\",\r\n            href: \"\",\r\n            next: \"\"\r\n        });\r\n    }\r\n    render() {\r\n        return (\r\n            <div>\r\n                <select id=\"spotifyCols\" autoComplete=\"off\" defaultValue='Grau' onChange={this.onChangeGrau}>\r\n                    {optionsGrau.map((option) => (\r\n                        <option key={option.value} value={option.value}>{option.label}</option>\r\n                    ))}\r\n                </select>\r\n                <select id=\"spotifyPeriod\" autoComplete=\"off\" defaultValue='Área de Estudo' onChange={this.onChangeArea}>\r\n                    {optionsArea.map((option) => (\r\n                        <option key={option.value} value={option.value}>{option.label}</option>\r\n                    ))}\r\n                </select>\r\n                <button onClick={this.handleClick} className=\"next action-button\">Autenticar\r\n                    <i className=\"fa fa-spotify fa-right aria-hidden=true\"></i>\r\n                </button>\r\n                <a href={`${AUTH_ENDPOINT}?client_id=${CLIENT_ID}&redirect_uri=${REDIRECT_URI}&response_type=${RESPONSE_TYPE}`}>Login\r\n                    to Spotify</a>\r\n            </div>\r\n        );\r\n    }\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}